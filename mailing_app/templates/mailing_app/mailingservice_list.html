{% extends 'mailing_app/base_generic.html' %}

{% block title %}Mailing List{% endblock %}

{% block content %}
<div class="jumbotron bg-light text-dark" style="padding: 15px; margin: 15px 0;">
    <h1 class="display-5" style="font-size: 28px;">Welcome to Mailing Service!</h1>
    <p class="lead" style="font-size: 18px;">Efficiently manage your mailings with ease.</p>
    <hr class="my-2">
    <p style="font-size: 16px;">Explore the features and start managing your mailings today.</p>
    <a class="btn btn-outline-success btn-lg" href="{% url 'mailing_app:mailingservice-create' %}" role="button">Create a newsletter</a>
</div>

<div class="jumbotron bg-light text-dark">
    <div class="container text-center">
        <h2 class="text-primary">Statistics</h2>
        <ul class="list-group">
            <table class="table">
                <tr>
                    <th><h4>Number of mailings</h4></th>
                    <th><h4>Number of active mailings</h4></th>
                    <th><h4>Number of unique clients</h4></th>
                </tr>
                <body>
                <tr>
                    <td><h4>{{ all }}</h4></td>
                    <td><h4>{{ active }}</h4></td>
                    <td><h4>{{ clients_count }}</h4></td>
                </tr>
            </table>
        </ul>
    </div>

    <div class="container">
        <h2 class="text-primary">Mailing Lists</h2>
        <ul class="list-group">
            {% for object in object_list %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <span class="font-weight-bold">Mailing name: {{ object.pk }}</span>
                    <p class="mb-1 font-weight-normal">Date of sending: {{ object.send_time|date:"d F Y" }}</p>
                    <p class="mb-1 font-weight-normal">Time of sending: {{ object.send_time|date:"H:i" }}</p>
                </div>
                <div>
                    <p class="mb-1 font-weight-normal">Frequency: {{ object.frequency }}</p>
                    <p class="mb-1 font-weight-normal">Mailing status: {{ object.status }}</p>
                </div>
                <div class="btn-group" role="group">
                    <a href="{% url 'mailing_app:mailingservice-detail' object.pk %}"
                       class="btn btn-outline-primary btn-sm">View</a>
                    <a href="{% url 'mailing_app:mailingservice-update' object.pk %}"
                       class="btn btn-outline-warning btn-sm">Edit</a>
                    <a href="{% url 'mailing_app:mailingservice-delete' object.pk %}"
                       class="btn btn-outline-danger btn-sm">Delete</a>
                </div>
            </li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}